<html>

<head>
    <title>Power Source Group Micro Grid Site Map v2</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
        integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
        crossorigin="" />

    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
        integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
        crossorigin=""></script>

    <link rel="stylesheet" href="styles.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
    <div id="map"></div>
</body>

</html>

<script>
    var mymap = L.map('map').setView([12.8797, 121.7740], 5.6);

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
        maxZoom: 18,
        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
            '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
            'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
        id: 'mapbox/streets-v11',
        tileSize: 512,
        zoomOffset: -1
    }).addTo(mymap);

    var LeafIcon = L.Icon.extend({
        options: {
            iconSize: [38, 40],
            iconAnchor: [22, 34],
            popupAnchor: [-3, -26]
        }
    });


    if (!navigator.geolocation) {
        console.log("Your Browser does not support geolocation feature.")
    }
    else {
        navigator.geolocation.getCurrentPosition(getPosition)
    }
    function getPosition(position) {
        var geoLat = position.coords.latitude
        var geoLong = position.coords.longitude

        var geoMarker = new LeafIcon({ iconUrl: 'HumanMarker2.png' })

        L.marker([geoLat, geoLong], { icon: geoMarker }).addTo(mymap).bindPopup("You Are Here").openPopup()
    }
    
    var psmarkertim = new LeafIcon({ iconUrl: 'PSMarker.png' })
    var psmarker = new LeafIcon({ iconUrl: 'PSMarker2.png' })

        L.marker([14.5602142, 121.0252088], { icon: psmarkertim }).addTo(mymap).bindPopup("PSPI-Makati Office").openPopup();
    
        L.marker([14.3119328, 121.0514182], { icon: psmarker }).addTo(mymap).bindPopup("(TIM) Total Information Management, Inc.");    
    
        L.marker([8.547197, 117.5069983], { icon: psmarker }).addTo(mymap).bindPopup("Candawaga-Culasian Power Plant");

        L.marker([8.87356, 117.50046], { icon: psmarker }).addTo(mymap).bindPopup("Rizal Office");		

        L.marker([11.018030, 119.313855], { icon: psmarker }).addTo(mymap).bindPopup("Liminangcong Power Plant");

        L.marker([11.019959, 119.315304], { icon: psmarker }).addTo(mymap).bindPopup("Liminangcong Office");

        L.marker([10.40839, 119.18277], { icon: psmarker }).addTo(mymap).bindPopup("Port Barton Power Plant");

        L.marker([11.342234, 124.113269], { icon: psmarker }).addTo(mymap).bindPopup("Malapascua Power Plant");

        L.marker([11.3121191, 120.6746884], { icon: psmarker }).addTo(mymap).bindPopup("Manamoc Power Plant");

        L.marker([11.309302, 120.673322], { icon: psmarker }).addTo(mymap).bindPopup("Manamoc Office");

        L.marker([10.505946, 119.777972], { icon: psmarker }).addTo(mymap).bindPopup("Dumaran Power Plant ");

        L.marker([10.527895, 119.768394], { icon: psmarker }).addTo(mymap).bindPopup("Dumaran Office");
    
        L.marker([8.2849571, 124.2643841], { icon: psmarker }).addTo(mymap).bindPopup("Dumaran Office");

        L.marker([5.420903, 125.420492], { icon: psmarker }).addTo(mymap).bindPopup("Balut Island Power Plant");

</script>
